{"ast":null,"code":"// import { useContext, useState } from \"react\";\n// import \"./write.css\";\n// import axios from \"axios\";\n// import { Context } from \"../../context/Context\";\n\n// export default function Write() {\n//   const [title, setTitle] = useState(\"\");\n//   const [desc, setDesc] = useState(\"\");\n//   const [file, setFile] = useState(null);\n//   const { user } = useContext(Context);\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     const newPost = {\n//       username: user.username,\n//       title,\n//       desc,\n//     };\n//     if (file) {\n//       const data =new FormData();\n//       const filename = Date.now() + file.name;\n//       data.append(\"name\", filename);\n//       data.append(\"file\", file);\n//       newPost.photo = filename;\n//       try {\n//         await axios.post(\"/upload\", data);\n//       } catch (err) {}\n//     }\n//     try {\n//       const res = await axios.post(\"/posts\", newPost);\n//       window.location.replace(\"/post/\" + res.data._id);\n//     } catch (err) {}\n//   };\n//   return (\n//     <div className=\"write\">\n//       {file && (\n//         <img className=\"writeImg\" src={URL.createObjectURL(file)} alt=\"\" />\n//       )}\n//       <form className=\"writeForm\" onSubmit={handleSubmit}>\n//         <div className=\"writeFormGroup\">\n//           <label htmlFor=\"fileInput\">\n//             <i className=\"writeIcon fas fa-plus\"></i>\n//           </label>\n//           <input\n//             type=\"file\"\n//             id=\"fileInput\"\n//             style={{ display: \"none\" }}\n//             onChange={(e) => setFile(e.target.files[0])}\n//           />\n//           <input\n//             type=\"text\"\n//             placeholder=\"Title\"\n//             className=\"writeInput\"\n//             autoFocus={true}\n//             onChange={e=>setTitle(e.target.value)}\n//           />\n//         </div>\n//         <div className=\"writeFormGroup\">\n//           <textarea\n//             placeholder=\"Tell your story...\"\n//             type=\"text\"\n//             className=\"writeInput writeText\"\n//             onChange={e=>setDesc(e.target.value)}\n//           ></textarea>\n//         </div>\n//         <button className=\"writeSubmit\" type=\"submit\">\n//           Publish\n//         </button>\n//       </form>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/ASUS/OneDrive/Desktop/react-blog/client/src/pages/write/Write.jsx"],"sourcesContent":["// import { useContext, useState } from \"react\";\r\n// import \"./write.css\";\r\n// import axios from \"axios\";\r\n// import { Context } from \"../../context/Context\";\r\n\r\n// export default function Write() {\r\n//   const [title, setTitle] = useState(\"\");\r\n//   const [desc, setDesc] = useState(\"\");\r\n//   const [file, setFile] = useState(null);\r\n//   const { user } = useContext(Context);\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     const newPost = {\r\n//       username: user.username,\r\n//       title,\r\n//       desc,\r\n//     };\r\n//     if (file) {\r\n//       const data =new FormData();\r\n//       const filename = Date.now() + file.name;\r\n//       data.append(\"name\", filename);\r\n//       data.append(\"file\", file);\r\n//       newPost.photo = filename;\r\n//       try {\r\n//         await axios.post(\"/upload\", data);\r\n//       } catch (err) {}\r\n//     }\r\n//     try {\r\n//       const res = await axios.post(\"/posts\", newPost);\r\n//       window.location.replace(\"/post/\" + res.data._id);\r\n//     } catch (err) {}\r\n//   };\r\n//   return (\r\n//     <div className=\"write\">\r\n//       {file && (\r\n//         <img className=\"writeImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n//       )}\r\n//       <form className=\"writeForm\" onSubmit={handleSubmit}>\r\n//         <div className=\"writeFormGroup\">\r\n//           <label htmlFor=\"fileInput\">\r\n//             <i className=\"writeIcon fas fa-plus\"></i>\r\n//           </label>\r\n//           <input\r\n//             type=\"file\"\r\n//             id=\"fileInput\"\r\n//             style={{ display: \"none\" }}\r\n//             onChange={(e) => setFile(e.target.files[0])}\r\n//           />\r\n//           <input\r\n//             type=\"text\"\r\n//             placeholder=\"Title\"\r\n//             className=\"writeInput\"\r\n//             autoFocus={true}\r\n//             onChange={e=>setTitle(e.target.value)}\r\n//           />\r\n//         </div>\r\n//         <div className=\"writeFormGroup\">\r\n//           <textarea\r\n//             placeholder=\"Tell your story...\"\r\n//             type=\"text\"\r\n//             className=\"writeInput writeText\"\r\n//             onChange={e=>setDesc(e.target.value)}\r\n//           ></textarea>\r\n//         </div>\r\n//         <button className=\"writeSubmit\" type=\"submit\">\r\n//           Publish\r\n//         </button>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// }"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}